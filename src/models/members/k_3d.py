import numpy as np
from sympy import symbols as syms


e, a, l, i22, i33, g, j = syms("e a l i22 i33 g j")

# fix_fix
k = np.matrix([
    [e * a / l, 0, 0, 0, 0, 0, -e * a / l, 0, 0, 0, 0, 0],
    [0, 12 * e * i33 / (l ** 3), 0, 0, 0, 6 * e * i33 / (l ** 2), 0, -12 * e * i33 / (l ** 3), 0, 0, 0, 6 * e * i33 / (l ** 2)],
    [0, 0, 12 * e * i22 / (l ** 3), 0, -6 * e * i22 / (l ** 2), 0, 0, 0, -12 * e * i22 / (l ** 3), 0, -6 * e * i22 / (l ** 2), 0],
    [0, 0, 0, g * j / l, 0, 0, 0, 0, 0, -g * j / l, 0, 0],
    [0, 0, -6 * e * i22 / (l ** 2), 0, 4 * e * i22 / l, 0, 0, 0, 6 * e * i22 / (l ** 2), 0, 2 * e * i22 / l, 0],
    [0, 6 * e * i33 / (l ** 2), 0, 0, 0, 4 * e * i33 / l, 0, -6 * e * i33 / (l ** 2), 0, 0, 0, 2 * e * i33 / l],
    [-e * a / l, 0, 0, 0, 0, 0, e * a / l, 0, 0, 0, 0, 0],
    [0, -12 * e * i33 / (l ** 3), 0, 0, 0, -6 * e * i33 / (l ** 2), 0, 12 * e * i33 / (l ** 3), 0, 0, 0, -6 * e * i33 / (l ** 2)],
    [0, 0, -12 * e * i22 / (l ** 3), 0, 6 * e * i22 / (l ** 2), 0, 0, 0, 12 * e * i22 / (l ** 3), 0, 6 * e * i22 / (l ** 2), 0],
    [0, 0, 0, - g * j / l, 0, 0, 0, 0, 0, g * j / l, 0, 0],
    [0, 0, -6 * e * i22 / (l ** 2), 0, 2 * e * i22 / l, 0, 0, 0, 6 * e * i22 / (l ** 2), 0, 4 * e * i22 / l, 0],
    [0, 6 * e * i33 / (l ** 2), 0, 0, 0, 2 * e * i33 / l, 0, -6 * e * i33 / (l ** 2), 0, 0, 0, 4 * e * i33 / l]
])




# hinge_fix
k = np.matrix([
    [e * a / l, 0, 0, 0, 0, 0, -e * a / l, 0, 0, 0, 0, 0],
    [0, 3 * e * i33 / (l ** 3), 0, 0, 0, 0, 0, -3 * e * i33 / (l ** 3), 0, 0, 0, 3 * e * i33 / (l ** 2)],
    [0, 0, 3 * e * i22 / (l ** 3), 0, 0, 0, 0, 0, -3 * e * i22 / (l ** 3), 0, -3 * e * i22 / (l ** 2), 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [-e * a / l, 0, 0, 0, 0, 0, e * a / l, 0, 0, 0, 0, 0],
    [0, -3 * e * i33 / (l ** 3), 0, 0, 0, 0, 0, 3 * e * i33 / (l ** 3), 0, 0, 0, -3 * e * i33 / (l ** 2)],
    [0, 0, -3 * e * i22 / (l ** 3), 0, 0, 0, 0, 0, 3 * e * i22 / (l ** 3), 0, 3 * e * i22 / (l ** 2), 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, -3 * e * i22 / (l ** 2), 0, 0, 0, 0, 0, 3 * e * i22 / (l ** 2), 0, 3 * e * i22 / l, 0],
    [0, 3 * e * i33 / (l ** 2), 0, 0, 0, 0, 0, -3 * e * i33 / (l ** 2), 0, 0, 0, 3 * e * i33 / l]
])



# fix_hinge
k = np.matrix([
    [e * a / l, 0, 0, 0, 0, 0, -e * a / l, 0, 0, 0, 0, 0],
    [0, 3 * e * i33 / (l ** 3), 0, 0, 0, 3 * e * i33 / (l ** 2), 0, -3 * e * i33 / (l ** 3), 0, 0, 0, 0],
    [0, 0, 3 * e * i22 / (l ** 3), 0, -3 * e * i22 / (l ** 2), 0, 0, 0, -3 * e * i22 / (l ** 3), 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, -3 * e * i22 / (l ** 2), 0, 3 * e * i22 / l, 0, 0, 0, 3 * e * i22 / (l ** 2), 0, 0, 0],
    [0, 3 * e * i33 / (l ** 2), 0, 0, 0, 3 * e * i33 / l, 0, -3 * e * i33 / (l ** 2), 0, 0, 0, 0],
    [-e * a / l, 0, 0, 0, 0, 0, e * a / l, 0, 0, 0, 0, 0],
    [0, -3 * e * i33 / (l ** 3), 0, 0, 0, -3 * e * i33 / (l ** 2), 0, 3 * e * i33 / (l ** 3), 0, 0, 0, 0],
    [0, 0, -3 * e * i22 / (l ** 3), 0, 3 * e * i22 / (l ** 2), 0, 0, 0, 3 * e * i22 / (l ** 3), 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
])



r = np.matrix([
    [1, 0, 0],
    [0, 0, -1],
    [0, 1, 0]
])

t = np.matrix(np.zeros((12, 12)))
t[0:3, 0:3] = r
t[3:6, 3:6] = r
t[6:9, 6:9] = r
t[9:12, 9:12] = r

new_k = t.T * k * t

# fix_fix
k_sap = np.matrix([
    [e * a / l, 0, 0, 0, 0, 0, -e * a / l, 0, 0, 0, 0, 0],
        [0, 12 * e * i22 / l ** 3, 0, 0, 0, 6 * e * i22 / l ** 2, 0, -12 * e * i22 / l ** 3, 0, 0, 0, 6 * e * i22 / l ** 2],
        [0, 0, 12 * e * i33 / l ** 3, 0, -6 * e * i33 / l ** 2, 0, 0, 0, -12 * e * i33 / l ** 3, 0, -6 * e * i33 / l ** 2, 0],
        [0, 0, 0, g * j / l, 0, 0, 0, 0, 0, -g * j / l, 0, 0],
        [0, 0, -6 * e * i33 / l ** 2, 0, 4 * e * i33 / l, 0, 0, 0, 6 * e * i33 / l ** 2, 0, 2 * e * i33 / l, 0],
        [0, 6 * e * i22 / l ** 2, 0, 0, 0, 4 * e * i22 / l, 0, -6 * e * i22 / l ** 2, 0, 0, 0, 2 * e * i22 / l],
        [-e * a / l, 0, 0, 0, 0, 0, e * a / l, 0, 0, 0, 0, 0],
        [0, -12 * e * i22 / l ** 3, 0, 0, 0, -6 * e * i22 / l** 2, 0, 12 * e * i22 / l ** 3, 0, 0, 0, -6 * e * i22 / l ** 2],
        [0, 0, -12 * e * i33 / l ** 3, 0, 6 * e * i33 / l ** 2, 0, 0, 0, 12 * e * i33 / l ** 3, 0, 6 * e * i33 / l ** 2, 0],
        [0, 0, 0, -g * j / l, 0, 0, 0, 0, 0, g * j / l, 0, 0],
        [0, 0, -6 * e * i33 / l ** 2, 0, 2 * e * i33 / l, 0, 0, 0, 6 * e * i33 / l ** 2, 0, 4 * e * i33 / l, 0],
        [0, 6 * e * i22 / l ** 2, 0, 0, 0, 2 * e * i22 / l, 0, -6 * e * i22 / l ** 2, 0, 0, 0, 4 * e * i22 / l],
    ])


# hinge_fix
k_sap = np.matrix([
    [e * a / l, 0, 0, 0, 0, 0, -e * a / l, 0, 0, 0, 0, 0],
    [0, 3 * e * i22 / l ** 3, 0, 0, 0, 0, 0, -3 * e * i22 / l ** 3, 0, 0, 0, 3 * e * i22 / l ** 2],
    [0, 0, 3 * e * i33 / l ** 3, 0, 0, 0, 0, 0, -3 * e * i33 / l ** 3, 0, -3 * e * i33 / l ** 2, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [-e * a / l, 0, 0, 0, 0, 0, e * a / l, 0, 0, 0, 0, 0],
    [0, -3 * e * i22 / l ** 3, 0, 0, 0, 0, 0, 3 * e * i22 / l ** 3, 0, 0, 0, -3 * e * i22 / l ** 2],
    [0, 0, -3 * e * i33 / l ** 3, 0, 0, 0, 0, 0, 3 * e * i33 / l ** 3, 0, 3 * e * i33 / l ** 2, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, -3 * e * i33 / l ** 2, 0, 0, 0, 0, 0, 3 * e * i33 / l ** 2, 0, 3 * e * i33 / l, 0],
    [0, 3 * e * i22 / l ** 2, 0, 0, 0, 0, 0, -3 * e * i22 / l ** 2, 0, 0, 0, 3 * e * i22 / l],
])





# fix_hinge
k_sap = np.matrix([
    [e * a / l, 0, 0, 0, 0, 0, -e * a / l, 0, 0, 0, 0, 0],
    [0, 3 * e * i22 / l ** 3, 0, 0, 0, 3 * e * i22 / l ** 2, 0, -3 * e * i22 / l ** 3, 0, 0, 0, 0],
    [0, 0, 3 * e * i33 / l ** 3, 0, -3 * e * i33 / l ** 2, 0, 0, 0, -3 * e * i33 / l ** 3, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, -3 * e * i33 / l ** 2, 0, 3 * e * i33 / l, 0, 0, 0, 3 * e * i33 / l ** 2, 0, 0, 0],
    [0, 3 * e * i22 / l ** 2, 0, 0, 0, 3 * e * i22 / l, 0, -3 * e * i22 / l ** 2, 0, 0, 0, 0],
    [- e * a /l, 0, 0, 0, 0, 0, e * a / l, 0, 0, 0, 0, 0],
    [0, -3 * e * i22 / l ** 3, 0, 0, 0, -3 * e * i22 / l ** 2, 0, 3 * e * i22 / l ** 3, 0, 0, 0, 0],
    [0, 0, -3 * e * i33 / l ** 3, 0, 3 * e * i33 / l ** 2, 0, 0, 0, 3 * e * i33 / l ** 3, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
])